jQuery(document).ready(function() {     
    jQuery('#css-admin-select').change(onCSSAdminChange);   
    
    function onCSSAdminChange(){
    	var selected = jQuery("#css-admin-select option:selected");
    	var val = jQuery("#css-admin-select option:selected").val();     
    	var output = "";
    	if(selected.val() != 0){   
    	    var origColor = jQuery(val).css('backgroundColor');   
    	    jQuery(val).animate({ backgroundColor: "#FFF188" }, 1000, function() {   
                jQuery(val).animate({ backgroundColor: origColor }, 1000);   
    	    });
    	}    
    	  
    	var textVal = jQuery("#css-admin-select option:selected").text();     
    	var selector = "#css-option-set-" + textVal;  
    	jQuery('.css-option-set').removeClass('visible').addClass('hidden');
    	jQuery(selector).removeClass('hidden').addClass('visible');  
         
        // Add Specifically For SideBar Accordions. TODO: find a way to move this from core js.
        if("#sidebar_accordion .text .scrollpane") 
        {
            jQuery('#sidebar_accordion .text .scrollpane').jScrollPane();
        }
    }   
    
    function rgb2hex(rgb) {
     rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
     function hex(x) {
      hexDigits = new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");
      return isNaN(x) ? "00" : hexDigits[(x - x % 16) / 16] + hexDigits[x % 16];
     }
     return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
    }   
    
    jQuery('.group-box a.minimize').click(function(){ 
        if(jQuery(this).parent().parent().hasClass('open')) {
            jQuery(this).parent().parent().removeClass('open');
            jQuery(this).parent().parent().addClass('closed');  
            jQuery(this).text('-');
        }
        else {                                  
            jQuery(this).parent().parent().removeClass('closed');  
            jQuery(this).parent().parent().addClass('open');  
            jQuery(this).text('+');
    	}
    });  
          
});